<div class="container">
  <h1 class="container h1 m-2"></h1>
</div>

<div class="container mb-2">
  <div class="row text-center">
    <div class="col-sm m-2">
      <button class="btn btn-secondary p-2 m-0  w-100 h-100" (click)="this.requestGenerateCells()">
        generateCells
      </button>
    </div>
    <div class="col-sm m-2">
      <button class="btn btn-light p-2 m-0 w-100  h-100" (click)="this.requestClearCells()">
        clearCells
      </button>
    </div>
    <div class="col-sm m-2">
      <div class="alert bg-light p-2 m-0 w-100  h-100">
        <span>Connections: {{connections}}</span>
      </div>
    </div>
    <div *ngIf="frame.length>0" class="col-md m-2" [ngClass]="{'collapse': !collapse}">
      <button (click)="collapse=!collapse" class="btn btn-light p-2 m-0  w-100 h-100"
        [ngClass]="{'collapse': !collapse}">
        Open view
      </button>
    </div>
  </div>
</div>

<div class="container" [ngStyle]="{'width' : scale?'40%':'95%'}">
  <div class="m-2" style="position: relative;" [ngClass]="{'collapse': collapse ||frame.length<=0}">

    <button (click)="scale=!scale" class="btn btn-light px-2 m-1 py-0" [ngStyle]="{'top' : scale?'1em':'3em'}"
      style="z-index: 7; position: absolute;right: 5em;background: transparent;border: transparent;outline: none;">-</button>

    <button (click)="collapse=!collapse" class="btn btn-light px-2 m-1 py-0" [ngStyle]="{'top' : scale?'1em':'3em'}"
      style="z-index: 7; position: absolute;right: 3em;background: transparent;border: transparent;outline: none;">x</button>

    <canvas class="w-100" #myCanvas></canvas>

  </div>
</div>

<div class="container">
  <p class="m-2">Width: {{this.size[0]}} Height: {{this.size[1]}} Amount: {{this.frame.length}}</p>
</div>


<div class="container mb-3">
  <div class="progress m-2">
    <div class="bg-danger progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
      [ngStyle]="{'width':(100*colors[0]/(colors[0]+colors[1]+colors[2]))+'%'}" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
  <div class="progress m-2">
    <div class="bg-success progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
      [ngStyle]="{'width':(100*colors[1]/(colors[0]+colors[1]+colors[2]))+'%'}" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
  <div class="progress m-2">
    <div class="bg-primary progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
      [ngStyle]="{'width':(100*colors[2]/(colors[0]+colors[1]+colors[2]))+'%'}" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</div>


<div class="container mt-3">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Color</th>
        <th scope="col-3">Size</th>
        <th scope="col-2">X</th>
        <th scope="col-2">Y</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of this.frame">
        <th>{{item.color}}</th>
        <td>{{item.size}}</td>
        <td>{{item.x}}</td>
        <td>{{item.y}}</td>
      </tr>
    </tbody>
  </table>
</div>